(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[107],{1291:function(e,a,t){"use strict";t.d(a,"a",(function(){return x}));var l=t(33),n=t(1243),r=t(2),i=t(0),c=t.n(i),o=t(41),s=t(1253),m=t(28),d=t(6);var p=function(e){const a=Object(o.a)(),t=Object(d.d)(Object(m.c)(a.palette.primary.main));return c.a.createElement("div",{className:e.classes.header},e.header&&c.a.createElement(s.a,{theme:t},e.header))},u=t(98),f=t(1275),b=t(1279);var g=function(e){const a=Object(o.a)(),t=Object(d.d)(Object(m.c)(a.palette.primary.main)),{classes:n}=e;return c.a.createElement(c.a.Fragment,null,e.header&&c.a.createElement(s.a,{theme:t},c.a.createElement("div",{className:Object(r.default)(n.sidebarHeader,e.variant)},e.header)),e.content&&c.a.createElement(l.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var E=c.a.forwardRef((function(e,a){const[t,l]=Object(i.useState)(!1),{classes:n}=e;Object(i.useImperativeHandle)(a,()=>({toggleSidebar:o}));const o=()=>{l(!t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{lgUp:"permanent"===e.variant},c.a.createElement(b.a,{variant:"temporary",anchor:e.position,open:t,onOpen:e=>{},onClose:e=>o(),disableSwipeToOpen:!0,classes:{root:Object(r.default)(n.sidebarWrapper,e.variant),paper:Object(r.default)(n.sidebar,e.variant,"left"===e.position?n.leftSidebar:n.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:n.backdrop}},style:{position:"absolute"}},c.a.createElement(g,e))),"permanent"===e.variant&&c.a.createElement(f.a,{mdDown:!0},c.a.createElement(u.a,{variant:"permanent",className:Object(r.default)(n.sidebarWrapper,e.variant),open:t,classes:{paper:Object(r.default)(n.sidebar,e.variant,"left"===e.position?n.leftSidebar:n.rightSidebar)}},c.a.createElement(g,e))))}));const h=Object(n.a)(e=>({root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:{display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0,[e.breakpoints.down("xs")]:{padding:"0 1.6rem"}},header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":{[e.breakpoints.up("lg")]:{zIndex:1,position:"relative"}}},sidebar:{position:"absolute","&.permanent":{[e.breakpoints.up("lg")]:{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}},width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":{[e.breakpoints.up("lg")]:{backgroundColor:"transparent"}}},sidebarContent:{display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary,[e.breakpoints.up("lg")]:{overflow:"auto","-webkit-overflow-scrolling":"touch"}},backdrop:{position:"absolute"}})),v=c.a.forwardRef((e,a)=>{const t=Object(i.useRef)(null),n=Object(i.useRef)(null),o=Object(i.useRef)(null),s=h(e),m=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return c.a.useImperativeHandle(a,()=>({rootRef:o,toggleLeftSidebar:()=>{t.current.toggleSidebar()},toggleRightSidebar:()=>{n.current.toggleSidebar()}})),c.a.createElement("div",{className:Object(r.default)(s.root,e.innerScroll&&s.innerScroll),ref:o},c.a.createElement("div",{className:s.topBg}),c.a.createElement("div",{className:"flex container w-full"},d&&c.a.createElement(E,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:t,rootRef:o}),c.a.createElement("div",{className:Object(r.default)(s.contentWrapper,d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",m&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},c.a.createElement(p,{header:e.header,classes:s}),c.a.createElement("div",{className:Object(r.default)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&c.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&c.a.createElement(l.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),m&&c.a.createElement(E,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:o})))});v.defaultProps={};var x=c.a.memo(v)},1321:function(e,a,t){"use strict";var l=t(1),n=t(5),r=t(0),i=(t(4),t(2)),c=t(8),o=r.forwardRef((function(e,a){var t=e.classes,c=e.className,o=e.dividers,s=void 0!==o&&o,m=Object(n.a)(e,["classes","className","dividers"]);return r.createElement("div",Object(l.a)({className:Object(i.default)(t.root,c,s&&t.dividers),ref:a},m))}));a.a=Object(c.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(o)},1327:function(e,a,t){"use strict";var l=t(1),n=t(5),r=t(0),i=(t(4),t(2)),c=t(8),o=r.forwardRef((function(e,a){var t=e.disableSpacing,c=void 0!==t&&t,o=e.classes,s=e.className,m=Object(n.a)(e,["disableSpacing","classes","className"]);return r.createElement("div",Object(l.a)({className:Object(i.default)(o.root,s,!c&&o.spacing),ref:a},m))}));a.a=Object(c.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(o)},1471:function(e,a){e.exports=m,e.exports.match=function(e,a){var t=[];return n(m(e,t,a),t)},e.exports.regexpToFunction=n,e.exports.parse=l,e.exports.compile=function(e,a){return r(l(e,a),a)},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=s;var t=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function l(e,a){for(var l,n=[],r=0,o=0,s="",m=a&&a.delimiter||"/",d=a&&a.whitelist||void 0,p=!1;null!==(l=t.exec(e));){var u=l[0],f=l[1],b=l.index;if(s+=e.slice(o,b),o=b+u.length,f)s+=f[1],p=!0;else{var g="",E=l[2],h=l[3],v=l[4],x=l[5];if(!p&&s.length){var y=s.length-1,j=s[y];(!d||d.indexOf(j)>-1)&&(g=j,s=s.slice(0,y))}s&&(n.push(s),s="",p=!1);var O="+"===x||"*"===x,N="?"===x||"*"===x,S=h||v,w=g||m;n.push({name:E||r++,prefix:g,delimiter:w,optional:N,repeat:O,pattern:S?c(S):"[^"+i(w===m?w:w+m)+"]+?"})}}return(s||o<e.length)&&n.push(s+e.substr(o)),n}function n(e,a){return function(t,l){var n=e.exec(t);if(!n)return!1;for(var r=n[0],i=n.index,c={},o=l&&l.decode||decodeURIComponent,s=1;s<n.length;s++)if(void 0!==n[s]){var m=a[s-1];m.repeat?c[m.name]=n[s].split(m.delimiter).map((function(e){return o(e,m)})):c[m.name]=o(n[s],m)}return{path:r,index:i,params:c}}}function r(e,a){for(var t=new Array(e.length),l=0;l<e.length;l++)"object"===typeof e[l]&&(t[l]=new RegExp("^(?:"+e[l].pattern+")$",o(a)));return function(a,l){for(var n="",r=l&&l.encode||encodeURIComponent,i=!l||!1!==l.validate,c=0;c<e.length;c++){var o=e[c];if("string"!==typeof o){var s,m=a?a[o.name]:void 0;if(Array.isArray(m)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but got array');if(0===m.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var d=0;d<m.length;d++){if(s=r(m[d],o),i&&!t[c].test(s))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'"');n+=(0===d?o.prefix:o.delimiter)+s}}else if("string"!==typeof m&&"number"!==typeof m&&"boolean"!==typeof m){if(!o.optional)throw new TypeError('Expected "'+o.name+'" to be '+(o.repeat?"an array":"a string"))}else{if(s=r(String(m),o),i&&!t[c].test(s))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+s+'"');n+=o.prefix+s}}else n+=o}return n}}function i(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$/()])/g,"\\$1")}function o(e){return e&&e.sensitive?"":"i"}function s(e,a,t){for(var l=(t=t||{}).strict,n=!1!==t.start,r=!1!==t.end,c=t.delimiter||"/",s=[].concat(t.endsWith||[]).map(i).concat("$").join("|"),m=n?"^":"",d=0;d<e.length;d++){var p=e[d];if("string"===typeof p)m+=i(p);else{var u=p.repeat?"(?:"+p.pattern+")(?:"+i(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;a&&a.push(p),p.optional?p.prefix?m+="(?:"+i(p.prefix)+"("+u+"))?":m+="("+u+")?":m+=i(p.prefix)+"("+u+")"}}if(r)l||(m+="(?:"+i(c)+")?"),m+="$"===s?"$":"(?="+s+")";else{var f=e[e.length-1],b="string"===typeof f?f[f.length-1]===c:void 0===f;l||(m+="(?:"+i(c)+"(?="+s+"))?"),b||(m+="(?="+i(c)+"|"+s+")")}return new RegExp(m,o(t))}function m(e,a,t){return e instanceof RegExp?function(e,a){if(!a)return e;var t=e.source.match(/\((?!\?)/g);if(t)for(var l=0;l<t.length;l++)a.push({name:l,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,a):Array.isArray(e)?function(e,a,t){for(var l=[],n=0;n<e.length;n++)l.push(m(e[n],a,t).source);return new RegExp("(?:"+l.join("|")+")",o(t))}(e,a,t):function(e,a,t){return s(l(e,t),a,t)}(e,a,t)}},2550:function(e,a,t){"use strict";t.r(a);var l=t(1291),n=t(240),r=t(0),i=t.n(r),c=t(6),o=t(45),s=t(108),m=t(7),d=t(1278),p=t(1262),u=t(1245),f=t(1191),b=t(201),g=t(132),E=t(1243),h=t(2);const v=Object(E.a)(e=>({root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}));var x=function(e){const a=v();return i.a.createElement("div",{className:Object(h.default)(a.root,e.className)},i.a.createElement("div",{className:a.color,style:{backgroundColor:e.color}}),i.a.createElement("div",null,e.title))},y=t(20),j=t(52),O=t.n(j);const N=Object(y.b)("mailApp/labels/getLabels",async()=>{const e=await O.a.get("/api/mail-app/labels");return await e.data}),S=Object(y.c)({}),{selectAll:w,selectEntities:k,selectById:C}=S.getSelectors(e=>e.mailApp.labels);var I=Object(y.d)({name:"mailApp/labels",initialState:S.getInitialState(null),reducers:{},extraReducers:{[N.fulfilled]:S.setAll}}).reducer,A=t(9),M=t(42);const R=Object(y.b)("mailApp/mail/getMail",async e=>{const a=await O.a.get("/api/mail-app/mail",{params:e});return await a.data}),T=Object(y.b)("mailApp/mail/updateMail",async(e,a)=>{let{getState:t,dispatch:l}=a;const{id:n}=t().mailApp.mail,r=await O.a.post("/api/mail-app/update-mail",Object(A.a)({id:n},e)),i=await r.data;return l(Object(M.c)({message:"Mail Saved"})),i});var P=Object(y.d)({name:"mailApp/mail",initialState:null,reducers:{},extraReducers:{[R.fulfilled]:(e,a)=>a.payload,[T.fulfilled]:(e,a)=>Object(A.a)(Object(A.a)({},e),a.payload)}}).reducer;var L=Object(o.j)((function(e){const a=Object(c.c)(),t=Object(c.d)(e=>{let{mailApp:a}=e;return a.mail}),l=Object(c.d)(k),n=Object(o.i)(),[E,h]=Object(r.useState)(!1);return Object(g.b)(()=>{a(R(n))},[a,n]),t?i.a.createElement("div",{className:"p-16 sm:p-24"},i.a.createElement("div",{className:"flex items-center justify-between overflow-hidden"},i.a.createElement("div",{className:"flex flex-col"},i.a.createElement(s.a,{delay:100},i.a.createElement(b.a,{variant:"subtitle1",className:"flex"},t.subject)),!m.a.isEmpty(l)&&t.labels.length>0&&i.a.createElement("div",{className:"flex flex-wrap mt-8 -mx-2"},t.labels.map(e=>i.a.createElement(x,{className:"mt-4 mx-2",title:l[e].title,color:l[e].color,key:e}))))),i.a.createElement(p.a,{className:"my-16"}),i.a.createElement(s.a,{animation:"transition.slideUpIn",delay:200},i.a.createElement("div",null,i.a.createElement("div",{className:"flex items-start justify-between"},i.a.createElement("div",{className:"flex items-center justify-start"},t.from.avatar?i.a.createElement(d.a,{alt:t.from.name,src:t.from.avatar}):i.a.createElement(d.a,null,t.from.name[0]),i.a.createElement("div",{className:"flex flex-col mx-8"},i.a.createElement("span",null,t.from.name),i.a.createElement(b.a,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start"},i.a.createElement("div",null,"to"),i.a.createElement("div",{className:"mx-4"},t.to[0].name)))),i.a.createElement(f.a,null,i.a.createElement(u.a,null,"more_vert"))),i.a.createElement("div",{className:"my-16"},i.a.createElement(b.a,{color:"primary",className:"cursor-pointer underline mb-8",onClick:()=>{h(!E)}},E?i.a.createElement("span",null,"Hide Details"):i.a.createElement("span",null,"Show Details")),E&&i.a.createElement("div",{className:"flex"},i.a.createElement(b.a,{variant:"body2",className:"flex flex-col"},i.a.createElement("span",null,"From:"),i.a.createElement("span",null,"To:"),i.a.createElement("span",null,"Date:")),i.a.createElement(b.a,{variant:"body2",color:"textSecondary",className:"px-4 flex flex-col"},i.a.createElement("span",null,t.from.email),i.a.createElement("span",null,t.to[0].email),i.a.createElement("span",null,t.time)))),i.a.createElement(b.a,{variant:"body2",dangerouslySetInnerHTML:{__html:t.message}}),i.a.createElement(p.a,{className:"my-16"}),t.attachments&&i.a.createElement("div",null,i.a.createElement(b.a,{variant:"subtitle1",className:"mb-16"},i.a.createElement("span",{className:"mx-4"},"Attachments"),i.a.createElement("span",null,"(",t.attachments.length,")")),i.a.createElement("div",{className:"flex flex-wrap -mx-8"},t.attachments.map(e=>i.a.createElement("div",{className:"w-192 px-8 pb-16",key:e.fileName},i.a.createElement("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),i.a.createElement("div",{className:"flex flex-col"},i.a.createElement(b.a,{color:"primary",className:"underline cursor-pointer",onClick:e=>e.preventDefault()},"View"),i.a.createElement(b.a,{color:"primary",className:"underline cursor-pointer",onClick:e=>e.preventDefault()},"Download"),i.a.createElement(b.a,null,"(",e.size,")"))))))))):null})),D=t(41);const B=t(1471);var H=Object(o.j)((function(e){const a=Object(c.c)(),t=Object(c.d)(e=>{let{mailApp:a}=e;return a.mail}),l=Object(D.a)(),n=B.compile(e.match.path),r=Object(o.i)(),m=Object(A.a)({},r);delete m.mailId;const d=n(m);return t?i.a.createElement("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16"},i.a.createElement(f.a,{onClick:()=>e.history.push(d)},i.a.createElement(u.a,null,"ltr"===l.direction?"arrow_back":"arrow_forward")),i.a.createElement("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},i.a.createElement(s.a,{animation:"transition.expandIn",delay:100},i.a.createElement(f.a,{onClick:()=>a(T({starred:!t.starred}))},t.starred?i.a.createElement(u.a,null,"star"):i.a.createElement(u.a,null,"star_border"))),i.a.createElement(s.a,{animation:"transition.expandIn",delay:100},i.a.createElement(f.a,{onClick:()=>a(T({important:!t.important}))},t.important?i.a.createElement(u.a,null,"label"):i.a.createElement(u.a,null,"label_off"))))):null})),z=t(1275),W=t(635),F=t(200),U=t(1253),_=t(427),V=t.n(_),$=t(48),J=t.n($),Y=t(666);function q(){if(console&&console.warn){for(var e,a=arguments.length,t=new Array(a),l=0;l<a;l++)t[l]=arguments[l];"string"===typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0])),(e=console).warn.apply(e,t)}}var G={};function K(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];"string"===typeof a[0]&&G[a[0]]||("string"===typeof a[0]&&(G[a[0]]=new Date),q.apply(void 0,a))}function Q(e,a,t){e.loadNamespaces(a,(function(){if(e.isInitialized)t();else{e.on("initialized",(function a(){setTimeout((function(){e.off("initialized",a)}),0),t()}))}}))}function X(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!a.languages||!a.languages.length)return K("i18n.languages were undefined or empty",a.languages),!0;var l=a.languages[0],n=!!a.options&&a.options.fallbackLng,r=a.languages[a.languages.length-1];if("cimode"===l.toLowerCase())return!0;var i=function(e,t){var l=a.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===l||2===l};return!(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))&&(!!a.hasResourceBundle(l,e)||(!a.services.backendConnector.backend||!(!i(l,e)||n&&!i(r,e))))}function Z(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function ee(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Z(Object(t),!0).forEach((function(a){J()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ae(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.i18n,l=Object(r.useContext)(Y.a)||{},n=l.i18n,i=l.defaultNS,c=t||n||Object(Y.d)();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new Y.b),!c){K("You will need to pass in an i18next instance by using initReactI18next");var o=function(e){return Array.isArray(e)?e[e.length-1]:e},s=[o,{},!1];return s.t=o,s.i18n={},s.ready=!1,s}var m=ee(ee(ee({},Object(Y.c)()),c.options.react),a),d=m.useSuspense,p=e||i||c.options&&c.options.defaultNS;p="string"===typeof p?[p]:p||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(p);var u=(c.isInitialized||c.initializedStoreOnce)&&p.every((function(e){return X(e,c,m)}));function f(){return{t:c.getFixedT(null,"fallback"===m.nsMode?p:p[0])}}var b=Object(r.useState)(f()),g=V()(b,2),E=g[0],h=g[1],v=Object(r.useRef)(!0);Object(r.useEffect)((function(){var e=m.bindI18n,a=m.bindI18nStore;function t(){v.current&&h(f())}return v.current=!0,u||d||Q(c,p,(function(){v.current&&h(f())})),e&&c&&c.on(e,t),a&&c&&c.store.on(a,t),function(){v.current=!1,e&&c&&e.split(" ").forEach((function(e){return c.off(e,t)})),a&&c&&a.split(" ").forEach((function(e){return c.store.off(e,t)}))}}),[p.join()]);var x=[E.t,c,u];if(x.t=E.t,x.i18n=c,x.ready=u,u)return x;if(!u&&!d)return x;throw new Promise((function(e){Q(c,p,(function(){e()}))}))}var te=t(28);const le=Object(y.b)("mailApp/mails/getMails",async(e,a)=>{let{getState:t}=a;e=e||t().mailApp.mails.routeParams;const l=await O.a.get("/api/mail-app/mails",{params:e});return{data:await l.data,routeParams:e}}),ne=Object(y.b)("mailApp/mails/setFolderOnSelectedMails",async(e,a)=>{let{dispatch:t,getState:l}=a;const{selectedMailIds:n}=l().mailApp.mails,r=await O.a.post("/api/mail-app/set-folder",{selectedMailIds:n,folderId:e}),i=await r.data;return t(le()),i}),re=Object(y.b)("mailApp/mails/toggleLabelOnSelectedMails",async(e,a)=>{let{dispatch:t,getState:l}=a;const{selectedMailIds:n}=l().mailApp.mails,r=await O.a.post("/api/mail-app/toggle-label",{selectedMailIds:n,labelId:e}),i=await r.data;return t(le()),i}),ie=Object(y.c)({}),{selectAll:ce,selectById:oe}=ie.getSelectors(e=>e.mailApp.mails),se=Object(y.d)({name:"mailApp/mails",initialState:ie.getInitialState({searchText:"",routeParams:{},selectedMailIds:[]}),reducers:{setMailsSearchText:{reducer:(e,a)=>{e.searchText=a.payload},prepare:e=>({payload:e.target.value||""})},selectAllMails:(e,a)=>{e.selectedMailIds=e.ids},deselectAllMails:(e,a)=>{e.selectedMailIds=[]},selectMailsByParameter:(e,a)=>{const[t,l]=a.payload;e.selectedMailIds=e.ids.filter(a=>e.entities[a][t]===l)},toggleInSelectedMails:(e,a)=>{const t=a.payload;e.selectedMailIds=e.selectedMailIds.includes(t)?e.selectedMailIds.filter(e=>e!==t):[...e.selectedMailIds,t]}},extraReducers:{[le.fulfilled]:(e,a)=>{const{data:t,routeParams:l}=a.payload;ie.setAll(e,t),e.routeParams=l,e.selectedMailIds=[]}}}),{setMailsSearchText:me,selectAllMails:de,deselectAllMails:pe,selectMailsByParameter:ue,toggleInSelectedMails:fe}=se.actions;var be=se.reducer;var ge=function(e){const a=Object(c.c)(),t=Object(c.d)(e=>{let{mailApp:a}=e;return a.mails.searchText}),l=Object(c.d)(te.e),{t:n}=ae("mailApp");return i.a.createElement(U.a,{theme:l},i.a.createElement("div",{className:"flex flex-1"},i.a.createElement(F.a,{className:"flex items-center w-full h-48 sm:h-56 p-16 ltr:pl-4 lg:ltr:pl-16 rtl:pr-4 lg:rtl:pr-16 rounded-8 shadow"},i.a.createElement(z.a,{lgUp:!0},i.a.createElement(f.a,{onClick:a=>e.pageLayout.current.toggleLeftSidebar(),"aria-label":"open left sidebar"},i.a.createElement(u.a,null,"menu"))),i.a.createElement(u.a,{color:"action"},"search"),i.a.createElement(W.a,{placeholder:n("SEARCH_PLACEHOLDER"),className:"px-16",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:e=>a(me(e))}))))},Ee=t(96),he=t(1196),ve=t(1197),xe=t(1258),ye=t(1261),je=t(1254),Oe=t(1251),Ne=t(1240),Se=t(1327),we=t(1321),ke=t(1266),Ce=t(1255);const Ie=Object(E.a)({root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}});var Ae=function(e){const a=Ie();return i.a.createElement("div",{className:Object(h.default)(a.root,e.className)},i.a.createElement("div",{className:"flex"},i.a.createElement(b.a,{variant:"caption",className:a.filename},e.fileName),i.a.createElement(b.a,{variant:"caption",className:a.size},"(",e.size,")")),i.a.createElement(f.a,null,i.a.createElement(u.a,{className:"text-16"},"close")))};var Me=function(){const[e,a]=Object(r.useState)(!1),{form:t,handleChange:l}=Object(g.c)({from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""}),{t:n}=ae("mailApp");return i.a.createElement("div",{className:"p-24"},i.a.createElement(Oe.a,{variant:"contained",color:"primary",className:"w-full",onClick:function(){a(!0)}},n("COMPOSE")),i.a.createElement(Ne.a,{open:e,onClose:function(){a(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:"rounded-8"}},i.a.createElement(je.a,{position:"static"},i.a.createElement(Ce.a,{className:"flex w-full"},i.a.createElement(b.a,{variant:"subtitle1",color:"inherit"},"New Message"))),i.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),a(!1)},className:"flex flex-col"},i.a.createElement(we.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},i.a.createElement(ke.a,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:t.from,onChange:l,variant:"outlined",fullWidth:!0,disabled:!0}),i.a.createElement(ke.a,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:t.to,onChange:l,variant:"outlined",fullWidth:!0,required:!0}),i.a.createElement(ke.a,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:t.cc,onChange:l,variant:"outlined",fullWidth:!0}),i.a.createElement(ke.a,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:t.bcc,onChange:l,variant:"outlined",fullWidth:!0}),i.a.createElement(ke.a,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:t.subject,onChange:l,variant:"outlined",fullWidth:!0}),i.a.createElement(ke.a,{className:"mt-8 mb-16",id:"message",name:"message",onChange:l,value:t.message,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),i.a.createElement("div",{className:"pt-8"},i.a.createElement(Ae,{fileName:"attachment-2.doc",size:"12 kb"}),i.a.createElement(Ae,{fileName:"attachment-1.jpg",size:"350 kb"}))),i.a.createElement(Se.a,{className:"justify-between p-8"},i.a.createElement("div",{className:"px-16"},i.a.createElement(Oe.a,{variant:"contained",color:"primary",type:"submit"},"Send"),i.a.createElement(f.a,null,i.a.createElement(u.a,null,"attach_file"))),i.a.createElement(f.a,{onClick:function(){a(!1)}},i.a.createElement(u.a,null,"delete"))))))};const Re=Object(y.b)("mailApp/filters/getFilters",async()=>{const e=await O.a.get("/api/mail-app/filters");return await e.data}),Te=Object(y.c)({}),{selectAll:Pe,selectById:Le}=Te.getSelectors(e=>e.mailApp.filters);var De=Object(y.d)({name:"mailApp/filters",initialState:Te.getInitialState({}),reducers:{},extraReducers:{[Re.fulfilled]:Te.setAll}}).reducer;const Be=Object(y.b)("mailApp/folders/getFolders",async()=>{const e=await O.a.get("/api/mail-app/folders");return await e.data}),He=Object(y.c)({}),{selectAll:ze,selectById:We}=He.getSelectors(e=>e.mailApp.folders);var Fe=Object(y.d)({name:"mailApp/folders",initialState:He.getInitialState({}),reducers:{},extraReducers:{[Be.fulfilled]:He.setAll}}).reducer;const Ue=Object(E.a)(e=>({listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}},listSubheader:{paddingLeft:24}}));var _e=function(e){const a=Object(c.d)(ze),t=Object(c.d)(w),l=Object(c.d)(Pe),n=Ue(),{t:r}=ae("mailApp");return i.a.createElement(s.a,{animation:"transition.slideUpIn",delay:400},i.a.createElement("div",{className:"flex-auto border-l-1"},i.a.createElement(Me,null),i.a.createElement("div",null,i.a.createElement(he.a,null,i.a.createElement(ye.a,{className:n.listSubheader,disableSticky:!0},r("FOLDERS")),a.length>0&&a.map(e=>i.a.createElement(ve.a,{button:!0,component:Ee.a,to:"/apps/mail/".concat(e.handle),key:e.id,activeClassName:"active",className:n.listItem},i.a.createElement(u.a,{className:"list-item-icon",color:"action"},e.icon),i.a.createElement(xe.a,{primary:e.translate?r(e.translate):e.title,disableTypography:!0})))),i.a.createElement(he.a,null,i.a.createElement(ye.a,{className:n.listSubheader,disableSticky:!0},r("FILTERS")),l.length>0&&l.map(e=>i.a.createElement(ve.a,{button:!0,component:Ee.a,to:"/apps/mail/filter/".concat(e.handle),activeClassName:"active",className:n.listItem,key:e.id},i.a.createElement(u.a,{className:"list-item-icon",color:"action"},e.icon),i.a.createElement(xe.a,{primary:e.translate?r(e.translate):e.title,disableTypography:!0})))),i.a.createElement(he.a,null,i.a.createElement(ye.a,{className:n.listSubheader,disableSticky:!0},r("LABELS")),t&&t.map(e=>i.a.createElement(ve.a,{button:!0,component:Ee.a,to:"/apps/mail/label/".concat(e.handle),key:e.id,className:n.listItem},i.a.createElement(u.a,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),i.a.createElement(xe.a,{primary:e.title,disableTypography:!0})))))))},Ve=t(1247);const $e={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"};var Je=function(e){const[a,t]=Object(r.useState)("creapond"),{t:l}=ae("mailApp");return i.a.createElement("div",{className:"flex flex-col justify-center h-full p-24"},i.a.createElement("div",{className:"flex items-center flex-1"},i.a.createElement(s.a,{animation:"transition.expandIn",delay:300},i.a.createElement(u.a,{className:"text-32"},"mail")),i.a.createElement(s.a,{animation:"transition.slideLeftIn",delay:300},i.a.createElement("span",{className:"text-24 mx-16"},l("APP_TITLE")))),i.a.createElement(s.a,{animation:"transition.slideUpIn",delay:300},i.a.createElement(ke.a,{id:"account-selection",select:!0,label:a,value:a,onChange:function(e){t(e.target.value)},placeholder:"Select Account",margin:"normal"},Object.keys($e).map((e,a)=>i.a.createElement(Ve.a,{key:e,value:e},$e[e])))))},Ye=t(166),qe=t(27),Ge=t(1274);const Ke=t(1471),Qe=Object(E.a)(e=>({mailItem:{borderBottom:"1px solid  ".concat(e.palette.divider),"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}));var Xe=Object(o.j)(e=>{const a=Object(c.c)(),t=Object(c.d)(e=>{let{mailApp:a}=e;return a.mails.selectedMailIds}),l=Object(c.d)(k),n=Object(o.i)(),r=Qe(e),s=Ke.compile(e.match.path),p=t.length>0&&void 0!==t.find(a=>a===e.mail.id);return i.a.createElement(ve.a,{dense:!0,button:!0,onClick:()=>e.history.push(s(Object(A.a)(Object(A.a)({},n),{},{mailId:e.mail.id}))),className:Object(h.default)(r.mailItem,p&&"selected",!e.mail.read&&"unread","py-16 px-0 md:px-8")},i.a.createElement(Ge.a,{tabIndex:-1,disableRipple:!0,checked:p,onChange:()=>a(fe(e.mail.id)),onClick:e=>e.stopPropagation()}),i.a.createElement("div",{className:"flex flex-1 flex-col relative overflow-hidden"},i.a.createElement("div",{className:"flex items-center justify-between px-16 pb-8"},i.a.createElement("div",{className:"flex items-center"},e.mail.from.avatar?i.a.createElement(d.a,{alt:e.mail.from.name,src:e.mail.from.avatar}):i.a.createElement(d.a,{className:r.avatar},e.mail.from.name[0]),i.a.createElement(b.a,{variant:"subtitle1",className:"mx-8"},e.mail.from.name)),i.a.createElement(b.a,{variant:"subtitle1"},e.mail.time)),i.a.createElement("div",{className:"flex flex-col px-16 py-0"},i.a.createElement(b.a,{className:"truncate"},e.mail.subject),i.a.createElement(b.a,{color:"textSecondary",className:"truncate"},m.a.truncate(e.mail.message.replace(/<(?:.|\n)*?>/gm,""),{length:180}))),i.a.createElement("div",{className:"flex justify-end px-12"},!m.a.isEmpty(l)&&e.mail.labels.map(e=>i.a.createElement(x,{className:"mx-2 mt-4",title:l[e].title,color:l[e].color,key:e})))))});var Ze=Object(o.j)((function(e){const a=Object(c.c)(),t=Object(c.d)(ce),l=Object(c.d)(e=>{let{mailApp:a}=e;return a.mails.searchText}),n=Object(o.i)(),[m,d]=Object(r.useState)(null),{t:p}=ae("mailApp");return Object(g.b)(()=>{a(le(n))},[a,n]),Object(r.useEffect)(()=>{t&&d(0===l.length?t:qe.a.filterArrayByString(t,l))},[t,l]),m?0===m.length?i.a.createElement(s.a,{delay:100},i.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},i.a.createElement(b.a,{color:"textSecondary",variant:"h5"},p("NO_MESSAGES")))):i.a.createElement(he.a,{className:"p-0"},i.a.createElement(Ye.a,{enter:{animation:"transition.slideUpBigIn"}},m.map(e=>i.a.createElement(Xe,{mail:e,key:e.id})))):null})),ea=t(621);var aa=function(e){const a=Object(c.c)(),t=Object(c.d)(e=>{let{mailApp:a}=e;return a.mails.selectedMailIds}),l=Object(c.d)(ce),n=Object(c.d)(w),o=Object(c.d)(ze),[s,m]=Object(r.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null});function d(e,a){m(Object(A.a)(Object(A.a)({},a),{},{[a]:e.currentTarget}))}function p(e,a){m(Object(A.a)(Object(A.a)({},a),{},{[a]:null}))}return i.a.createElement("div",{className:"flex flex-1 items-center sm:px-8"},i.a.createElement(Ge.a,{onChange:function(e){return e.target.checked?a(de()):a(pe())},checked:t.length===Object.keys(l).length&&t.length>0,indeterminate:t.length!==Object.keys(l).length&&t.length>0}),i.a.createElement(f.a,{className:"",size:"small","aria-label":"More","aria-owns":s.select?"select-menu":null,"aria-haspopup":"true",onClick:e=>d(e,"select")},i.a.createElement(u.a,null,"arrow_drop_down")),i.a.createElement(ea.a,{id:"select-menu",anchorEl:s.select,open:Boolean(s.select),onClose:e=>p(0,"select")},i.a.createElement(Ve.a,{onClick:e=>{a(de()),p(0,"select")}},"All"),i.a.createElement(Ve.a,{onClick:e=>{a(pe()),p(0,"select")}},"None"),i.a.createElement(Ve.a,{onClick:e=>{a(ue(["read",!0])),p(0,"select")}},"Read"),i.a.createElement(Ve.a,{onClick:e=>{a(ue(["read",!1])),p(0,"select")}},"Unread"),i.a.createElement(Ve.a,{onClick:e=>{a(ue(["starred",!0])),p(0,"select")}},"Starred"),i.a.createElement(Ve.a,{onClick:e=>{a(ue(["starred",!1])),p(0,"select")}},"Unstarred"),i.a.createElement(Ve.a,{onClick:e=>{a(ue(["important",!0])),p(0,"select")}},"Important"),i.a.createElement(Ve.a,{onClick:e=>{a(ue(["important",!1])),p(0,"select")}},"Unimportant")),t.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),i.a.createElement(f.a,{onClick:e=>a(ne(4)),"aria-label":"Delete"},i.a.createElement(u.a,null,"delete")),i.a.createElement(f.a,{"aria-label":"More","aria-owns":s.folders?"folders-menu":null,"aria-haspopup":"true",onClick:e=>d(e,"folders")},i.a.createElement(u.a,null,"folder")),i.a.createElement(ea.a,{id:"folders-menu",anchorEl:s.folders,open:Boolean(s.folders),onClose:e=>p(0,"folders")},o.length>0&&o.map(e=>i.a.createElement(Ve.a,{onClick:t=>{a(ne(e.id)),p(0,"folders")},key:e.id},e.title))),i.a.createElement(f.a,{"aria-label":"More","aria-owns":s.labels?"labels-menu":null,"aria-haspopup":"true",onClick:e=>d(e,"labels")},i.a.createElement(u.a,null,"label")),i.a.createElement(ea.a,{id:"folders-menu",anchorEl:s.labels,open:Boolean(s.labels),onClose:e=>p(0,"labels")},n.length>0&&n.map(e=>i.a.createElement(Ve.a,{onClick:t=>{a(re(e.id)),p(0,"labels")},key:e.id},e.title)))))},ta=t(105);var la=Object(ta.c)({mails:be,mail:P,folders:Fe,labels:I,filters:De});a.default=Object(n.a)("mailApp",la)((function(e){const a=Object(c.c)(),t=Object(r.useRef)(null),n=Object(o.i)();return Object(r.useEffect)(()=>{a(Re()),a(Be()),a(N())},[a]),i.a.createElement(l.a,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:i.a.createElement(ge,{pageLayout:t}),contentToolbar:n.mailId?i.a.createElement(H,null):i.a.createElement(aa,null),content:n.mailId?i.a.createElement(L,null):i.a.createElement(Ze,null),leftSidebarHeader:i.a.createElement(Je,null),leftSidebarContent:i.a.createElement(_e,null),ref:t,innerScroll:!0})}))}}]);