(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[101],{1291:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var r=t(33),n=t(1243),l=t(2),o=t(0),i=t.n(o),c=t(41),s=t(1253),d=t(28),m=t(6);var u=function(e){const a=Object(c.a)(),t=Object(m.d)(Object(d.c)(a.palette.primary.main));return i.a.createElement("div",{className:e.classes.header},e.header&&i.a.createElement(s.a,{theme:t},e.header))},p=t(98),b=t(1275),h=t(1279);var g=function(e){const a=Object(c.a)(),t=Object(m.d)(Object(d.c)(a.palette.primary.main)),{classes:n}=e;return i.a.createElement(i.a.Fragment,null,e.header&&i.a.createElement(s.a,{theme:t},i.a.createElement("div",{className:Object(l.default)(n.sidebarHeader,e.variant)},e.header)),e.content&&i.a.createElement(r.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var f=i.a.forwardRef((function(e,a){const[t,r]=Object(o.useState)(!1),{classes:n}=e;Object(o.useImperativeHandle)(a,()=>({toggleSidebar:c}));const c=()=>{r(!t)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{lgUp:"permanent"===e.variant},i.a.createElement(h.a,{variant:"temporary",anchor:e.position,open:t,onOpen:e=>{},onClose:e=>c(),disableSwipeToOpen:!0,classes:{root:Object(l.default)(n.sidebarWrapper,e.variant),paper:Object(l.default)(n.sidebar,e.variant,"left"===e.position?n.leftSidebar:n.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:n.backdrop}},style:{position:"absolute"}},i.a.createElement(g,e))),"permanent"===e.variant&&i.a.createElement(b.a,{mdDown:!0},i.a.createElement(p.a,{variant:"permanent",className:Object(l.default)(n.sidebarWrapper,e.variant),open:t,classes:{paper:Object(l.default)(n.sidebar,e.variant,"left"===e.position?n.leftSidebar:n.rightSidebar)}},i.a.createElement(g,e))))}));const v=Object(n.a)(e=>({root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:{display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0,[e.breakpoints.down("xs")]:{padding:"0 1.6rem"}},header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":{[e.breakpoints.up("lg")]:{zIndex:1,position:"relative"}}},sidebar:{position:"absolute","&.permanent":{[e.breakpoints.up("lg")]:{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}},width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":{[e.breakpoints.up("lg")]:{backgroundColor:"transparent"}}},sidebarContent:{display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary,[e.breakpoints.up("lg")]:{overflow:"auto","-webkit-overflow-scrolling":"touch"}},backdrop:{position:"absolute"}})),x=i.a.forwardRef((e,a)=>{const t=Object(o.useRef)(null),n=Object(o.useRef)(null),c=Object(o.useRef)(null),s=v(e),d=e.rightSidebarHeader||e.rightSidebarContent,m=e.leftSidebarHeader||e.leftSidebarContent;return i.a.useImperativeHandle(a,()=>({rootRef:c,toggleLeftSidebar:()=>{t.current.toggleSidebar()},toggleRightSidebar:()=>{n.current.toggleSidebar()}})),i.a.createElement("div",{className:Object(l.default)(s.root,e.innerScroll&&s.innerScroll),ref:c},i.a.createElement("div",{className:s.topBg}),i.a.createElement("div",{className:"flex container w-full"},m&&i.a.createElement(f,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:t,rootRef:c}),i.a.createElement("div",{className:Object(l.default)(s.contentWrapper,m&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",d&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},i.a.createElement(u,{header:e.header,classes:s}),i.a.createElement("div",{className:Object(l.default)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&i.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&i.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),d&&i.a.createElement(f,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:c})))});x.defaultProps={};var E=i.a.memo(x)},1322:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return i})),t.d(a,"d",(function(){return s})),t.d(a,"e",(function(){return u}));var r=t(20),n=t(52),l=t.n(n);const o=Object(r.b)("eCommerceApp/orders/getOrders",async()=>{const e=await l.a.get("/api/e-commerce-app/orders");return await e.data}),i=Object(r.b)("eCommerceApp/orders/removeOrders",async(e,a)=>{let{dispatch:t,getState:r}=a;return await l.a.post("/api/e-commerce-app/remove-orders",{orderIds:e}),e}),c=Object(r.c)({}),{selectAll:s,selectById:d}=c.getSelectors(e=>e.eCommerceApp.orders),m=Object(r.d)({name:"eCommerceApp/orders",initialState:c.getInitialState({searchText:""}),reducers:{setOrdersSearchText:{reducer:(e,a)=>{e.searchText=a.payload},prepare:e=>({payload:e.target.value||""})}},extraReducers:{[o.fulfilled]:c.setAll,[i.fulfilled]:(e,a)=>c.removeMany(e,a.payload)}}),{setOrdersSearchText:u}=m.actions;a.a=m.reducer},1323:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return i})),t.d(a,"d",(function(){return s})),t.d(a,"e",(function(){return u}));var r=t(20),n=t(52),l=t.n(n);const o=Object(r.b)("eCommerceApp/products/getProducts",async()=>{const e=await l.a.get("/api/e-commerce-app/products");return await e.data}),i=Object(r.b)("eCommerceApp/products/removeProducts",async(e,a)=>{let{dispatch:t,getState:r}=a;return await l.a.post("/api/e-commerce-app/remove-products",{productIds:e}),e}),c=Object(r.c)({}),{selectAll:s,selectById:d}=c.getSelectors(e=>e.eCommerceApp.products),m=Object(r.d)({name:"eCommerceApp/products",initialState:c.getInitialState({searchText:""}),reducers:{setProductsSearchText:{reducer:(e,a)=>{e.searchText=a.payload},prepare:e=>({payload:e.target.value||""})}},extraReducers:{[o.fulfilled]:c.setAll,[i.fulfilled]:(e,a)=>c.removeMany(e,a.payload)}}),{setProductsSearchText:u}=m.actions;a.a=m.reducer},1335:function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"e",(function(){return c})),t.d(a,"c",(function(){return d})),t.d(a,"d",(function(){return m}));var r=t(20),n=t(52),l=t.n(n),o=t(27);const i=Object(r.b)("eCommerceApp/product/getProduct",async e=>{const a=await l.a.get("/api/e-commerce-app/product",{params:e}),t=await a.data;return void 0===t?null:t}),c=Object(r.b)("eCommerceApp/product/saveProduct",async e=>{const a=await l.a.post("/api/e-commerce-app/product/save",e);return await a.data}),s=Object(r.d)({name:"eCommerceApp/product",initialState:null,reducers:{resetProduct:()=>null,newProduct:{reducer:(e,a)=>a.payload,prepare:e=>({payload:{id:o.a.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0}})}},extraReducers:{[i.fulfilled]:(e,a)=>a.payload,[c.fulfilled]:(e,a)=>a.payload}}),{newProduct:d,resetProduct:m}=s.actions;a.a=s.reducer},1336:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return s}));var r=t(20),n=t(52),l=t.n(n);const o=Object(r.b)("eCommerceApp/order/getOrder",async e=>{const a=await l.a.get("/api/e-commerce-app/order",{params:e}),t=await a.data;return void 0===t?null:t}),i=Object(r.b)("eCommerceApp/order/saveOrder",async e=>{const a=await l.a.post("/api/e-commerce-app/order/save",e);return await a.data}),c=Object(r.d)({name:"eCommerceApp/order",initialState:null,reducers:{resetOrder:()=>null},extraReducers:{[o.fulfilled]:(e,a)=>a.payload,[i.fulfilled]:(e,a)=>a.payload}}),{resetOrder:s}=c.actions;a.a=c.reducer},1351:function(e,a,t){"use strict";var r=t(105),n=t(1336),l=t(1322),o=t(1335),i=t(1323);const c=Object(r.c)({products:i.a,product:o.a,orders:l.a,order:n.a});a.a=c},2377:function(e,a,t){"use strict";t.r(a);var r=t(9),n=t(108),l=t(429),o=t(428),i=t(1291),c=t(132),s=t(27),d=t(7),m=t(1251),u=t(191),p=t(1245),b=t(1269),h=t(1243),g=t(41),f=t(1271),v=t(1272),x=t(1266),E=t(201),y=t(240),w=t(2),S=t(0),O=t.n(S),I=t(6),j=t(45),C=t(26),N=t(1335),P=t(1351);const k=Object(h.a)(e=>({productImageFeaturedStar:{position:"absolute",top:0,right:0,color:u.a[400],opacity:0},productImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},productImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $productImageFeaturedStar":{opacity:1},"&:hover $productImageFeaturedStar":{opacity:1}}}}));a.default=Object(y.a)("eCommerceApp",P.a)((function(e){const a=Object(I.c)(),t=Object(I.d)(e=>{let{eCommerceApp:a}=e;return a.product}),u=Object(g.a)(),h=k(e),[y,P]=Object(S.useState)(0),[T,A]=Object(S.useState)(!1),{form:F,handleChange:R,setForm:W,setInForm:H}=Object(c.c)(null),D=Object(j.i)();return Object(c.b)(()=>{!function(){const{productId:e}=D;"new"===e?a(Object(N.c)()):a(Object(N.b)(D)).then(e=>{e.payload||A(!0)})}()},[a,D]),Object(S.useEffect)(()=>{(t&&!F||t&&F&&t.id!==F.id)&&W(t)},[F,t,W]),Object(S.useEffect)(()=>()=>{a(Object(N.d)()),A(!1)},[a]),T?O.a.createElement(n.a,{delay:100},O.a.createElement("div",{className:"flex flex-col flex-1 items-center justify-center h-full"},O.a.createElement(E.a,{color:"textSecondary",variant:"h5"},"There is no such product!"),O.a.createElement(m.a,{className:"mt-24",component:C.a,variant:"outlined",to:"/apps/e-commerce/products",color:"inherit"},"Go to Products Page"))):(!t||t&&D.productId!==t.id)&&"new"!==D.productId?O.a.createElement(o.a,null):O.a.createElement(i.a,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:F&&O.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},O.a.createElement("div",{className:"flex flex-col items-start max-w-full"},O.a.createElement(n.a,{animation:"transition.slideRightIn",delay:300},O.a.createElement(E.a,{className:"flex items-center sm:mb-12",component:C.a,role:"button",to:"/apps/e-commerce/products",color:"inherit"},O.a.createElement(p.a,{className:"text-20"},"ltr"===u.direction?"arrow_back":"arrow_forward"),O.a.createElement("span",{className:"mx-4"},"Products"))),O.a.createElement("div",{className:"flex items-center max-w-full"},O.a.createElement(n.a,{animation:"transition.expandIn",delay:300},F.images.length>0&&F.featuredImageId?O.a.createElement("img",{className:"w-32 sm:w-48 rounded",src:d.a.find(F.images,{id:F.featuredImageId}).url,alt:F.name}):O.a.createElement("img",{className:"w-32 sm:w-48 rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:F.name})),O.a.createElement("div",{className:"flex flex-col min-w-0 mx-8 sm:mc-16"},O.a.createElement(n.a,{animation:"transition.slideLeftIn",delay:300},O.a.createElement(E.a,{className:"text-16 sm:text-20 truncate"},F.name?F.name:"New Product")),O.a.createElement(n.a,{animation:"transition.slideLeftIn",delay:300},O.a.createElement(E.a,{variant:"caption"},"Product Detail"))))),O.a.createElement(n.a,{animation:"transition.slideRightIn",delay:300},O.a.createElement(m.a,{className:"whitespace-nowrap",variant:"contained",color:"secondary",disabled:!(F.name.length>0&&!d.a.isEqual(t,F)),onClick:()=>a(Object(N.e)(F))},"Save"))),contentToolbar:O.a.createElement(v.a,{value:y,onChange:function(e,a){P(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},O.a.createElement(f.a,{className:"h-64",label:"Basic Info"}),O.a.createElement(f.a,{className:"h-64",label:"Product Images"}),O.a.createElement(f.a,{className:"h-64",label:"Pricing"}),O.a.createElement(f.a,{className:"h-64",label:"Inventory"}),O.a.createElement(f.a,{className:"h-64",label:"Shipping"})),content:F&&O.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl"},0===y&&O.a.createElement("div",null,O.a.createElement(x.a,{className:"mt-8 mb-16",error:""===F.name,required:!0,label:"Name",autoFocus:!0,id:"name",name:"name",value:F.name,onChange:R,variant:"outlined",fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16",id:"description",name:"description",onChange:R,label:"Description",type:"text",value:F.description,multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),O.a.createElement(l.a,{className:"mt-8 mb-24",value:F.categories.map(e=>({value:e,label:e})),onChange:e=>H("categories",e),placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0}),O.a.createElement(l.a,{className:"mt-8 mb-16",value:F.tags.map(e=>({value:e,label:e})),onChange:e=>H("tags",e),placeholder:"Select multiple tags",textFieldProps:{label:"Tags",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0})),1===y&&O.a.createElement("div",null,O.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},O.a.createElement("label",{htmlFor:"button-file",className:Object(w.default)(h.productImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-8 mx-8 mb-16 overflow-hidden cursor-pointer shadow hover:shadow-lg")},O.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(e){const a=e.target.files[0];if(!a)return;const t=new FileReader;t.readAsBinaryString(a),t.onload=()=>{W(d.a.set(Object(r.a)({},F),"images",[{id:s.a.generateGUID(),url:"data:".concat(a.type,";base64,").concat(btoa(t.result)),type:"image"},...F.images]))},t.onerror=()=>{console.log("error on load image")}}}),O.a.createElement(p.a,{fontSize:"large",color:"action"},"cloud_upload")),F.images.map(e=>O.a.createElement("div",{onClick:()=>H("featuredImageId",e.id),onKeyDown:()=>H("featuredImageId",e.id),role:"button",tabIndex:0,className:Object(w.default)(h.productImageItem,"flex items-center justify-center relative w-128 h-128 rounded-8 mx-8 mb-16 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",e.id===F.featuredImageId&&"featured"),key:e.id},O.a.createElement(p.a,{className:h.productImageFeaturedStar},"star"),O.a.createElement("img",{className:"max-w-none w-auto h-full",src:e.url,alt:"product"}))))),2===y&&O.a.createElement("div",null,O.a.createElement(x.a,{className:"mt-8 mb-16",label:"Tax Excluded Price",id:"priceTaxExcl",name:"priceTaxExcl",value:F.priceTaxExcl,onChange:R,InputProps:{startAdornment:O.a.createElement(b.a,{position:"start"},"$")},type:"number",variant:"outlined",autoFocus:!0,fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16",label:"Tax Included Price",id:"priceTaxIncl",name:"priceTaxIncl",value:F.priceTaxIncl,onChange:R,InputProps:{startAdornment:O.a.createElement(b.a,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16",label:"Tax Rate",id:"taxRate",name:"taxRate",value:F.taxRate,onChange:R,InputProps:{startAdornment:O.a.createElement(b.a,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16",label:"Compared Price",id:"comparedPrice",name:"comparedPrice",value:F.comparedPrice,onChange:R,InputProps:{startAdornment:O.a.createElement(b.a,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0,helperText:"Add a compare price to show next to the real price"})),3===y&&O.a.createElement("div",null,O.a.createElement(x.a,{className:"mt-8 mb-16",required:!0,label:"SKU",autoFocus:!0,id:"sku",name:"sku",value:F.sku,onChange:R,variant:"outlined",fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16",label:"Quantity",id:"quantity",name:"quantity",value:F.quantity,onChange:R,variant:"outlined",type:"number",fullWidth:!0})),4===y&&O.a.createElement("div",null,O.a.createElement("div",{className:"flex -mx-4"},O.a.createElement(x.a,{className:"mt-8 mb-16 mx-4",label:"Width",autoFocus:!0,id:"width",name:"width",value:F.width,onChange:R,variant:"outlined",fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16 mx-4",label:"Height",id:"height",name:"height",value:F.height,onChange:R,variant:"outlined",fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16 mx-4",label:"Depth",id:"depth",name:"depth",value:F.depth,onChange:R,variant:"outlined",fullWidth:!0})),O.a.createElement(x.a,{className:"mt-8 mb-16",label:"Weight",id:"weight",name:"weight",value:F.weight,onChange:R,variant:"outlined",fullWidth:!0}),O.a.createElement(x.a,{className:"mt-8 mb-16",label:"Extra Shipping Fee",id:"extraShippingFee",name:"extraShippingFee",value:F.extraShippingFee,onChange:R,variant:"outlined",InputProps:{startAdornment:O.a.createElement(b.a,{position:"start"},"$")},fullWidth:!0}))),innerScroll:!0})}))}}]);