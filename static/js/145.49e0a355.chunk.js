(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[145],{2557:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(108),o=a(1256),i=a(1245),l=a(1243),c=a(240),s=a(2),d=a(101),m=a.n(d),b=a(0),p=a.n(b),u=a(2355),g=a(1524),v=a.n(g),h=(a(1540),a(1541),a(18)),f=a(6),E=a(1191),y=a(1253),w=a(8),x=a(1252),j=a(201),O=a(1542),k=a.n(O),D=a(1416),I=a(435),N=a(28);const S={month:{title:"Month",icon:"view_module"},week:{title:"Week",icon:"view_week"},work_week:{title:"Work week",icon:"view_array"},day:{title:"Day",icon:"view_day"},agenda:{title:"Agenda",icon:"view_agenda"}};class A extends k.a{viewButtons(){const e=this.props.views,{view:t}=this.props;return e.length>1?e.map(e=>p.a.createElement(x.a,{title:S[e].title,key:e},p.a.createElement("div",null,p.a.createElement(r.a,{animation:"transition.expandIn",delay:500},p.a.createElement(E.a,{"aria-label":e,onClick:()=>this.props.onView(e),disabled:t===e},p.a.createElement(i.a,null,S[e].icon)))))):null}render(){const{classes:e,mainThemeDark:t,label:a,date:n}=this.props;return p.a.createElement(y.a,{theme:t},p.a.createElement("div",{className:Object(s.default)(e.root,"flex h-200 min-h-200 relative",m()(n).format("MMM"))},p.a.createElement("div",{className:"flex flex-1 flex-col p-12 justify-between z-10 container"},p.a.createElement("div",{className:"flex flex-col items-center justify-between sm:flex-row"},p.a.createElement("div",{className:"flex items-center my-16 sm:mb-0"},p.a.createElement(r.a,{animation:"transition.expandIn",delay:300},p.a.createElement(i.a,{className:"text-32 mx-12"},"today")),p.a.createElement(r.a,{animation:"transition.slideLeftIn",delay:300},p.a.createElement(j.a,{variant:"h6"},"Calendar"))),p.a.createElement("div",{className:"flex items-center"},p.a.createElement(x.a,{title:"Today"},p.a.createElement("div",null,p.a.createElement(r.a,{animation:"transition.expandIn",delay:500},p.a.createElement(E.a,{"aria-label":"today",onClick:this.navigate.bind(null,D.navigate.TODAY)},p.a.createElement(i.a,null,"today"))))),this.viewButtons())),p.a.createElement(r.a,{delay:500},p.a.createElement("div",{className:"flex items-center justify-center"},p.a.createElement(x.a,{title:"Previous"},p.a.createElement(E.a,{"aria-label":"Previous",onClick:this.navigate.bind(null,D.navigate.PREVIOUS)},p.a.createElement(i.a,null,"ltr"===t.direction?"chevron_left":"chevron_right"))),p.a.createElement(j.a,{variant:"h6"},a),p.a.createElement(x.a,{title:"Next"},p.a.createElement(E.a,{"aria-label":"Next",onClick:this.navigate.bind(null,D.navigate.NEXT)},p.a.createElement(i.a,null,"ltr"===t.direction?"chevron_right":"chevron_left"))))))))}}var C=Object(I.a)((function(e){return{mainThemeDark:Object(N.f)(e)}}))(Object(w.a)(e=>({root:{backgroundImage:'url("../../assets/images/backgrounds/header-bg.png")',backgroundColor:"#FAFAFA",color:"#FFFFFF",backgroundSize:"cover",backgroundPosition:"0 50%",backgroundRepeat:"no-repeat","&:before":{content:"''",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,background:"rgba(0, 0, 0, 0.45)"},"&.Jan":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Feb":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Mar":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Apr":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.May":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Jun":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Jul":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Aug":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Sep":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Oct":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Nov":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Dec":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"}}}),{withTheme:!0})(A)),P=a(132),M=a(246),z=a(1254),F=a(1251),T=a(1240),Y=a(1327),B=a(1321),_=a(1249),W=a(1250),L=a(1266),R=a(1255),V=a(1543),H=a(20),J=a(52),U=a.n(J);const G="YYYY-MM-DDTHH:mm:ss.sssZ",q=Object(H.b)("calendarApp/events/getEvents",async()=>{const e=await U.a.get("/api/calendar-app/events");return await e.data}),X=Object(H.b)("calendarApp/events/addEvent",async(e,t)=>{let{dispatch:a}=t;const n=await U.a.post("/api/calendar-app/add-event",{newEvent:e});return await n.data}),Z=Object(H.b)("calendarApp/events/updateEvent",async(e,t)=>{let{dispatch:a}=t;const n=await U.a.post("/api/calendar-app/update-event",{event:e});return await n.data}),K=Object(H.b)("calendarApp/events/remove-event",async(e,t)=>{let{dispatch:a}=t;const n=await U.a.post("/api/calendar-app/remove-event",{eventId:e});return(await n.data).id}),Q=Object(H.c)({}),{selectAll:$,selectIds:ee,selectById:te}=Q.getSelectors(e=>e.calendarApp.events),ae=Object(H.d)({name:"calendarApp/events",initialState:Q.getInitialState({eventDialog:{type:"new",props:{open:!1},data:null}}),reducers:{openNewEventDialog:{prepare:e=>({payload:{type:"new",props:{open:!0},data:{start:m()(e.start).format(G).toString(),end:m()(e.end).format(G).toString()}}}),reducer:(e,t)=>{e.eventDialog=t.payload}},openEditEventDialog:{prepare:e=>({payload:{type:"edit",props:{open:!0},data:Object(n.a)(Object(n.a)({},e),{},{start:m()(e.start).format(G).toString(),end:m()(e.end).format(G).toString()})}}),reducer:(e,t)=>{e.eventDialog=t.payload}},closeNewEventDialog:(e,t)=>{e.eventDialog={type:"new",props:{open:!1},data:null}},closeEditEventDialog:(e,t)=>{e.eventDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:{[q.fulfilled]:Q.setAll,[X.fulfilled]:Q.addOne,[Z.fulfilled]:Q.upsertOne,[K.fulfilled]:Q.removeOne}}),{openNewEventDialog:ne,closeNewEventDialog:re,openEditEventDialog:oe,closeEditEventDialog:ie}=ae.actions;var le=ae.reducer;const ce={id:M.a.generateGUID(),title:"",allDay:!0,start:m()(new Date,"MM/DD/YYYY"),end:m()(new Date,"MM/DD/YYYY"),desc:""};var se=function(e){const t=Object(f.c)(),a=Object(f.d)(e=>{let{calendarApp:t}=e;return t.events.eventDialog}),{form:r,handleChange:o,setForm:l,setInForm:c}=Object(P.c)(ce),s=Object(b.useCallback)(()=>{"edit"===a.type&&a.data&&l(Object(n.a)({},a.data)),"new"===a.type&&l(Object(n.a)(Object(n.a)(Object(n.a)({},ce),a.data),{},{id:M.a.generateGUID()}))},[a.data,a.type,l]);function d(){return"edit"===a.type?t(ie()):t(re())}function m(){return r.title.length>0}return Object(b.useEffect)(()=>{a.props.open&&s()},[a.props.open,s]),p.a.createElement(T.a,Object.assign({},a.props,{onClose:d,fullWidth:!0,maxWidth:"xs",component:"form",classes:{paper:"rounded-8"}}),p.a.createElement(z.a,{position:"static"},p.a.createElement(R.a,{className:"flex w-full"},p.a.createElement(j.a,{variant:"subtitle1",color:"inherit"},"new"===a.type?"New Event":"Edit Event"))),p.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),"new"===a.type?t(X(r)):t(Z(r)),d()}},p.a.createElement(B.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},p.a.createElement(L.a,{id:"title",label:"Title",className:"mt-8 mb-16",InputLabelProps:{shrink:!0},name:"title",value:r.title,onChange:o,variant:"outlined",autoFocus:!0,required:!0,fullWidth:!0}),p.a.createElement(_.a,{className:"mt-8 mb-16",label:"All Day",control:p.a.createElement(W.a,{checked:r.allDay,id:"allDay",name:"allDay",onChange:o})}),p.a.createElement(V.a,{label:"Start",inputVariant:"outlined",value:r.start,onChange:e=>c("start",e),className:"mt-8 mb-16 w-full",maxDate:r.end}),p.a.createElement(V.a,{label:"End",inputVariant:"outlined",value:r.end,onChange:e=>c("end",e),className:"mt-8 mb-16 w-full",minDate:r.start}),p.a.createElement(L.a,{className:"mt-8 mb-16",id:"desc",label:"Description",type:"text",name:"desc",value:r.desc,onChange:o,multiline:!0,rows:5,variant:"outlined",fullWidth:!0})),"new"===a.type?p.a.createElement(Y.a,{className:"justify-between px-8 sm:px-16"},p.a.createElement(F.a,{variant:"contained",color:"primary",type:"submit",disabled:!m()},"Add")):p.a.createElement(Y.a,{className:"justify-between px-8 sm:px-16"},p.a.createElement(F.a,{variant:"contained",color:"primary",type:"submit",disabled:!m()},"Save"),p.a.createElement(E.a,{onClick:function(){t(K(r.id)),d()}},p.a.createElement(i.a,null,"delete")))))},de=a(105);var me=Object(de.c)({events:le});const be=Object(u.c)(m.a),pe=v()(u.a),ue=Object.keys(u.b).map(e=>u.b[e]),ge=Object(l.a)(e=>({root:{"& .rbc-header":{padding:"12px 6px",fontWeight:600,fontSize:14},"& .rbc-label":{padding:"8px 6px"},"& .rbc-today":{backgroundColor:"transparent"},"& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today":{borderBottom:"2px solid ".concat(e.palette.secondary.main,"!important")},"& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view":Object(n.a)({padding:24,[e.breakpoints.down("sm")]:{padding:16}},e.mixins.border(0)),"& .rbc-agenda-view table":Object(n.a)(Object(n.a)({},e.mixins.border(1)),{},{"& thead > tr > th":Object(n.a)({},e.mixins.borderBottom(0)),"& tbody > tr > td":{padding:"12px 6px","& + td":Object(n.a)({},e.mixins.borderLeft(1))}}),"& .rbc-agenda-table":{"& th":{border:0},"& th, & td":{padding:"12px 16px!important"}},"& .rbc-time-view":{"& .rbc-time-header":Object(n.a)(Object(n.a)({},e.mixins.border(1)),{},{borderRadius:"12px 12px 0 0"}),"& .rbc-time-content":Object(n.a)({flex:"0 1 auto"},e.mixins.border(1))},"& .rbc-month-view":{"& > .rbc-month-header":{borderRadius:"12px 12px 0 0"},"& > .rbc-row":Object(n.a)({},e.mixins.border(1)),"& .rbc-month-row":Object(n.a)(Object(n.a)({},e.mixins.border(1)),{},{borderWidth:"0 1px 1px 1px!important",minHeight:128}),"& .rbc-header + .rbc-header":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-header":Object(n.a)({},e.mixins.borderBottom(0)),"& .rbc-day-bg + .rbc-day-bg":Object(n.a)({},e.mixins.borderLeft(1))},"& .rbc-day-slot .rbc-time-slot":Object(n.a)(Object(n.a)({},e.mixins.borderTop(1)),{},{opacity:.5}),"& .rbc-time-header > .rbc-row > * + *":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-time-content > * + * > *":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-day-bg + .rbc-day-bg":Object(n.a)({},e.mixins.borderLeft(1)),"& .rbc-time-header > .rbc-row:first-child":Object(n.a)({},e.mixins.borderBottom(1)),"& .rbc-timeslot-group":Object(n.a)({minHeight:64},e.mixins.borderBottom(1)),"& .rbc-date-cell":{padding:8,fontSize:16,fontWeight:400,opacity:.5,"& > a":{color:"inherit"}},"& .rbc-event":{borderRadius:4,padding:"4px 8px",backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,boxShadow:e.shadows[0],transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,position:"relative","&:hover":{boxShadow:e.shadows[2]}},"& .rbc-row-segment":{padding:"0 4px 4px 4px"},"& .rbc-off-range-bg":{backgroundColor:"light"===e.palette.type?"rgba(0,0,0,0.03)":"rgba(0,0,0,0.16)"},"& .rbc-show-more":{color:e.palette.secondary.main,background:"transparent"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event":{position:"static"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child":{left:0,top:0,bottom:0,height:"auto"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child":{right:0,top:0,bottom:0,height:"auto"}},addButton:{position:"absolute",right:12,top:172,zIndex:99}}));t.default=Object(c.a)("calendarApp",me)((function(e){const t=Object(f.c)(),a=Object(f.d)($).map(e=>Object(n.a)(Object(n.a)({},e),{},{start:m()(e.start,G).toDate(),end:m()(e.end,G).toDate()})),l=ge(e),c=Object(b.useRef)(null);return Object(b.useEffect)(()=>{t(q())},[t]),p.a.createElement("div",{className:Object(s.default)(l.root,"flex flex-col flex-auto relative")},p.a.createElement("div",{ref:c}),p.a.createElement(pe,{className:"flex flex-1 container",selectable:!0,localizer:be,events:a,onEventDrop:function(e){let{event:a,start:r,end:o}=e;t(Z(Object(n.a)(Object(n.a)({},a),{},{start:r,end:o})))},resizable:!0,onEventResize:function(e){let{event:a,start:r,end:o}=e;delete a.type,t(Z(Object(n.a)(Object(n.a)({},a),{},{start:r,end:o})))},defaultView:u.b.MONTH,defaultDate:new Date(2020,3,1),startAccessor:"start",endAccessor:"end",views:ue,step:60,showMultiDayTimes:!0,components:{toolbar:e=>c.current?h.createPortal(p.a.createElement(C,e),c.current):null},onSelectEvent:e=>{t(oe(e))},onSelectSlot:e=>t(ne(e))}),p.a.createElement(r.a,{animation:"transition.expandIn",delay:500},p.a.createElement(o.a,{color:"secondary","aria-label":"add",className:l.addButton,onClick:()=>t(ne({start:new Date,end:new Date}))},p.a.createElement(i.a,null,"add"))),p.a.createElement(se,null))}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=e=>{let t=void 0;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}}]);